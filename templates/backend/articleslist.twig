{% extends "layout.twig" %}


{% block content %}


    <!--breadcrumb-->
    <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
        <div class="breadcrumb-title pe-3">Статьи</div>
        <div class="ps-3">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0 p-0">
                    <li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Список Статей</li>
                </ol>
            </nav>
        </div>
        <div class="ms-auto">
            <div class="btn-group">
                <a href="/admin/article-add"class="btn btn-primary">
                    <i class="lni lni-circle-plus"></i>
                    Добавить статью
                </a>
            </div>
        </div>
    </div>
    <!--end breadcrumb-->
    <h6 class="mb-0 text-uppercase">Список Статей</h6>
    <hr/>
    <div class="card">
        <div class="card-body">
            <div class="table-responsive">
                <table id="example" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                    <tr>
                        <th>Название</th>
                        <th>Обложка</th>
                        <th>Категория</th>
                        <th>Действия</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for article in articles %}
                    <tr>
                        <td><b>{{ article.title }}</b></td>
                        <td>
                            <img src="{{ article.intro_image }}" class="rounded-circle p-1 border" alt="..." width="90" height="90">
                            </td>
                        <td>
                            {% for category in categories %}
                                {% if article.categories_id == category.id %}
                                    {{ category.title }}
                                {% endif %}
                            {% endfor %}
                        <td>
                            <a class="btn btn-warning" href="/admin/article-edit/{{ article.id }}">
                                 <i class="lni lni-pencil"></i>
                            </a>
                            <!-- Button trigger modal -->
                            <a type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleDangerModal"><i class="lni lni-trash"></i></a>

                            <!-- Modal -->
                            <div class="modal fade" id="exampleDangerModal" tabindex="-1" aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-dialog-centered">
                                    <div class="modal-content bg-danger">
                                        <div class="modal-header">
                                            <h5 class="modal-title text-white">Предуприждение</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body text-white">
                                            <p>Вы уверены в своих действиях?</p>
                                        </div>
                                        <div class="modal-footer">
                                            <a type="button" class="btn btn-light" data-bs-dismiss="modal">Отменить</a>
                                            <a href="/admin/article-delete/{{ article.id }}" type="button" class="btn btn-dark">Удалить</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </td>

                    </tr>
                    {% endfor %}
                    </tbody>
                    <tfoot>
                    <tr>
                        <th>Название</th>
                        <th>Обложка</th>
                        <th>Категория</th>
                        <th>Действия</th>
                    </tr>
                    </tfoot>
                </table>
                <div class="col">
                    <!-- Button trigger modal -->
                    <a type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleDangerModal">Danger Modal</a>
                    <!-- Modal -->
                    <div class="modal fade" id="exampleDangerModal" tabindex="-1" aria-hidden="true">
                        <div class="modal-dialog modal-lg modal-dialog-centered">
                            <div class="modal-content bg-danger">
                                <div class="modal-header">
                                    <h5 class="modal-title text-white">Предуприждение</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body text-white">
                                    <p>Вы уверены в своих действиях?</p>
                                </div>
                                <div class="modal-footer">
                                    <a type="button" class="btn btn-light" data-bs-dismiss="modal">Отменить</a>
                                    <a href="/article-delete/" type="button" class="btn btn-dark">Удалить</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
    <script src="/assets/backend/plugins/datatable/js/jquery.dataTables.min.js"></script>
    <script src="/assets/backend/plugins/datatable/js/dataTables.bootstrap5.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#example').DataTable();
            $('[data-bs-toggle="tooltip"]').tooltip();
        } );
    </script>

{% endblock %}